{{ define "_form" }}
{{ if eq .Data.ID 0 }}
<form action="/problems/new" method="post" enctype="multipart/form-data">
{{ else }}
<form action="/problems/{{.Data.ID}}/edit" method="post" enctype="multipart/form-data">
{{ end }}
  <label for="Timelimit">Timelimit:</label>
  <input type="text" id="Timelimit" name="Timelimit" value="{{.Data.Timelimit}}"><br>
  <label for="Memlimit">Memlimit:</label>
  <input type="text" id="Memlimit" name="Memlimit" value="{{.Data.Memlimit}}"><br>
  <div>
    <h3>Format of testdata archive</h3>
    <p>
      Should be a <code>.zip</code> archive with the structure of:
    </p>
<pre>
meta.json
testdata/
  1.in
  1.out
  2.in
  2.out
  ...
</pre>
    <p>
      Where <code>meta.json</code> contains the subtasks and number of testdata:
    </p>
<pre>
{
  "Testcase": [
    [1],
    [1, 2, 3]
  ]
}
</pre>
  </div>
  <label for="TestdataFile">Testdata:</label>
  <input type="file" id="TestdataFile" name="TestdataFile"><br>
  <input type="hidden" name="Testdata" value="{{.Data.Testdata}}">
  <label for="Name">Name:</label>
  <input type="text" id="Name" name="Name" value="{{.Data.Name}}"><br>
  <label for="Content">Content:</label>
  <textarea id="Content" name="Content">{{.Data.Content}}</textarea>
  <input type="submit" value="Submit">
</form>

<!--
<div id="editor">function foo(items) {
    var x = "All this is syntax highlighted";
    return x;
}</div>
-->



<script src="https://cdn.jsdelivr.net/ace/1.2.3/min/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/markdown");
</script>
{{ end }}
